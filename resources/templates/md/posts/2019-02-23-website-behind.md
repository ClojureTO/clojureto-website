{:title "What is Behind clojureto.github.io"
 :author "Hildeberto Mendonca"
 :layout :post
 :tags  ["Cryogen" "Website" "Github" "Git"]
 :toc false}

Building a static website never felt so dynamic nowadays. With a basic technical background we can build a low cost website with minimal infra-structure in no time. Tools like [Jekyll][1] and [JBake][2] are popular choices, but the Clojure community count on its own solution: [Cryogen][3].

Cryogen is a static site generator developed in Clojure by [Carmen La][4], a member of the ClojureTO community. It allows us to produce content in [Markdown][5], manage content data in Clojure, and make everything beautiful with templates in HTML. It is simple to use and has everything we need. So, here you are reading this content generated by Cryogen.

This website is hosted on [GitHub Pages][6], which offers free hosting for static content, but Jekyll is the only static site generator natively  integrated with GitHub. It means we push content and GitHub takes care of the static content generation. This magic doesn't happen with Cryogen. GitHub offers some configuration alternatives, like recognizing a `/doc` folder as the root of the static content, but it isn't true for organizations or projects (organization|project.github.io), where the static content must be in the root of the repository. Until they fix this inconsistency, we had to come up with another solution.

To persist on the idea of using Cryogen, we needed to rearrange the pieces of the game. It consisted of using 2 Git repositories, one for the Cryogen project ([clojureto-website][7]) and another one for the generated static pages ([clojureto.github.io][8]). The last one is a Git sub-module of the first, replacing the folder `resources/public` where the static content is generated.

![Two website repositories](/img/clojureto-website-submodule.png)

[Submodule][9] is a Git capability that enables a Git repository be a sub-directory of another one while keeping commits separated. In our context, it basically means that pushing commits to `clojureto-website` doesn't update the website, but pushing changes generated by Cryogen in the folder `resources/public` to `clojureto.github.io` does update the website.

To create the submodule, we first had to delete the folder `resources\public` and then execute the following commands:

    $ git submodule add https://github.com/ClojureTO/clojureto.github.io.git resources/public
    $ git submodule init
    $ git add .gitmodules
    $ git add resources/public
    $ git commit -m "Added the website repo as a submodule"

In an upcoming post we will explain how to contribute with content to this website without getting lost in the concept of submodule.

[1]: https://jekyllrb.com
[2]: https://jbake.org
[3]: http://cryogenweb.org
[4]: https://carmen.la
[5]: https://daringfireball.net/projects/markdown/
[6]: https://pages.github.com
[7]: https://github.com/ClojureTO/clojureto-website
[8]: https://github.com/ClojureTO/clojureto.github.io
[9]: https://git-scm.com/book/en/v2/Git-Tools-Submodules
